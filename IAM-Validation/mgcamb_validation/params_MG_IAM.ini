# =============================================================================
# MGCAMB Parameter File for IAM (Informational Actualization Model)
# =============================================================================
# This file configures MGCAMB to run with IAM's predictions:
#   mu(a) = H^2_LCDM / (H^2_LCDM + beta_m * exp(1 - 1/a))
#   Sigma(a) = 1 (exactly)
#   beta_m = Omega_m / 2 = 0.1575
#
# Use with: ./camb ../inifiles/params_MG_IAM.ini
# =============================================================================

# --- Include standard Planck 2018 cosmological parameters ---
DEFAULT = params.ini

# =============================================================================
# MG FLAGS
# =============================================================================

# MG_flag selects the model category:
#   1 = pure MG parametrizations (mu-gamma or mu-Sigma)
#   2 = alternative parametrizations
#   3 = cubic spline reconstruction of mu, Sigma, Omega_X
MG_flag = 3

# GRtrans: scale factor at which MG modifications turn on
# Set to 0.001 to avoid numerical issues at very early times
# IAM naturally gives mu -> 1 for a -> 0, so this is safe
GRtrans = 0.001d0

# =============================================================================
# CUBIC SPLINE MODEL (MG_flag = 3)
# =============================================================================
# Uses cubic-spline interpolation of mu and Sigma values
# at specified redshift nodes. MGCAMB interpolates between these.
#
# We provide 11 nodes from z=0 to z=5, with IAM's mu(a) computed
# analytically. Sigma = 1 at all nodes (IAM prediction).
#
# The mu values below are computed from:
#   mu(z) = H2L / (H2L + 0.1575 * exp(1 - 1/a))
# where a = 1/(1+z) and H2L = Om*a^-3 + Or*a^-4 + OL
# with Om=0.315, Or=9.24e-5, OL=0.685
# =============================================================================

# Number of cubic-spline nodes for mu, Sigma
Nnode = 11

# Redshift values of the nodes (equally spaced in z from 0 to 5)
# z = 0.0, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0
MGCAMB_Mu_idx(1)  = 0.8639
MGCAMB_Mu_idx(2)  = 0.9482
MGCAMB_Mu_idx(3)  = 0.9823
MGCAMB_Mu_idx(4)  = 0.9938
MGCAMB_Mu_idx(5)  = 0.9977
MGCAMB_Mu_idx(6)  = 0.9991
MGCAMB_Mu_idx(7)  = 0.9996
MGCAMB_Mu_idx(8)  = 0.9998
MGCAMB_Mu_idx(9)  = 0.9999
MGCAMB_Mu_idx(10) = 1.0000
MGCAMB_Mu_idx(11) = 1.0000

MGCAMB_Sigma_idx(1)  = 1.0000
MGCAMB_Sigma_idx(2)  = 1.0000
MGCAMB_Sigma_idx(3)  = 1.0000
MGCAMB_Sigma_idx(4)  = 1.0000
MGCAMB_Sigma_idx(5)  = 1.0000
MGCAMB_Sigma_idx(6)  = 1.0000
MGCAMB_Sigma_idx(7)  = 1.0000
MGCAMB_Sigma_idx(8)  = 1.0000
MGCAMB_Sigma_idx(9)  = 1.0000
MGCAMB_Sigma_idx(10) = 1.0000
MGCAMB_Sigma_idx(11) = 1.0000

# =============================================================================
# DARK ENERGY MODEL
# =============================================================================
# DE_model:
#   0 = cosmological constant (LCDM background)
#   1 = wCDM
#   2 = w0-wa CDM
#   3 = Omega_X reconstruction
#
# IAM modifies perturbations only, not background.
# Use DE_model = 0 for standard LCDM background.
DE_model = 0

# Include DE perturbations? For IAM with LCDM background, set to T
# to maintain consistency with standard CAMB in the GR limit.
MGDE_pert = T

# =============================================================================
# ADDITIONAL SETTINGS
# =============================================================================

# Use mu-Sigma directly (not converting to mu-gamma first)
# This is the recommended setting per Wang et al. (2023)
muSigma_par = 1

# Turn off nonlinear corrections (no MG Halofit available)
do_nonlinear = 0

# Output settings
output_root = iam_mgcamb_output
get_scalar_cls = T
get_tensor_cls = F
get_transfer = T

# Matter power spectrum output
transfer_high_precision = T
transfer_kmax = 2
transfer_k_per_logint = 0
transfer_num_redshifts = 5
transfer_redshift(1) = 0.0
transfer_redshift(2) = 0.5
transfer_redshift(3) = 1.0
transfer_redshift(4) = 2.0
transfer_redshift(5) = 3.0

# Accuracy
accuracy_boost = 1
l_accuracy_boost = 1

# Lensing (important for IAM -- should show ~2% suppression)
do_lensing = T
